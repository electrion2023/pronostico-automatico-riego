name: üå¶Ô∏è Actualizar Pron√≥stico Autom√°tico

on:
  schedule:
    - cron: '*/30 * * * *'
  workflow_dispatch:

jobs:
  update-weather:
    runs-on: ubuntu-latest
    
    steps:
    - name: üì• Obtener c√≥digo
      uses: actions/checkout@v4
      
    - name: ‚éî Configurar Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18'
        
    - name: üì¶ Instalar Firebase-Admin y Axios
      run: |
        npm init -y --silent
        npm install firebase-admin axios --save --silent
      
    - name: üå¶Ô∏è Ejecutar script
      env:
        FIREBASE_PROJECT_ID: ${{ secrets.FIREBASE_PROJECT_ID }}
        FIREBASE_PRIVATE_KEY_ID: ${{ secrets.FIREBASE_PRIVATE_KEY_ID }}
        FIREBASE_PRIVATE_KEY: "${{ secrets.FIREBASE_PRIVATE_KEY }}"
        FIREBASE_CLIENT_EMAIL: ${{ secrets.FIREBASE_CLIENT_EMAIL }}
        FIREBASE_CLIENT_ID: ${{ secrets.FIREBASE_CLIENT_ID }}
      run: node scripts/actualizar-pronostico.js
